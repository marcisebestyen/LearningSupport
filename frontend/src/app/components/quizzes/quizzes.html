<div class="quiz-layout">
  <h2>My Quizzes</h2>

  @if (quizzes().length === 0) {
    <div class="empty-state">
      <p>No quizzes yet. Go to "History" and generate one!</p>
    </div>
  }

  <div class="quiz-grid">
    @for (quiz of quizzes(); track quiz.id) {
      <div class="quiz-card" [class.passed]="quiz.passed">

        <div class="card-header">
          <h3>{{ quiz.document.filename }}</h3>
          <span class="badge" [class.success]="quiz.passed">
            {{ quiz.passed ? 'PASSED' : 'IN PROGRESS' }}
          </span>
        </div>

        <div class="card-stats">
          <div class="stat">
            <span class="value">{{ quiz.top_score }} / 10</span>
            <span class="label">Top Score</span>
          </div>
          <div class="icon">
            ðŸŽ¯
          </div>
        </div>

        <div class="card-actions">
          <button class="primary-btn" (click)="playQuiz(quiz.id)">
            {{ quiz.top_score > 0 ? 'Retake' : 'Start' }}
          </button>

          @if (quiz.passed) {
            <button class="secondary-btn" (click)="reviewQuiz(quiz.id)">
              Review
            </button>
          }
        </div>

      </div>
    }
  </div>
</div>
